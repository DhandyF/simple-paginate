class Pagination{constructor(t,e={}){this.container=t,this.options={pageSize:e.pageSize||10,size:e.size||"medium"},this.currentPage=1,this.data=e.data,this.itemsPerPage=e.itemsPerPage||10,this.maxVisiblePages=e.maxVisiblePages||5,this.onPageChange=e.onPageChange||function(){},this.controlsContainer=document.querySelector(e.paginationId),this.controlsContainer.classList.add(`pagination-${this.options.size}`),this.textColor=e.textColor||"inherit",this.bgColor=e.bgColor||"transparent",this.activeBgColor=e.activeBgColor||"#007bff",this.activeTextColor=e.activeTextColor||"#ffffff",this.hoverBgColor=e.hoverBgColor||"#e0e0e0",this.hoverTextColor=e.hoverTextColor||"#000000",this.initStyles(),this.render()}initStyles(){let t=document.createElement("style");t.innerHTML=`
            .pagination-container {
                --pagination-active-bg: ${this.activeBgColor};
                --pagination-active-color: ${this.activeTextColor};
                --pagination-hover-bg: ${this.hoverBgColor};
                --pagination-hover-color: ${this.hoverTextColor};
            }
        `,this.controlsContainer.classList.add("pagination-container"),document.head.appendChild(t)}get totalPages(){return Math.ceil(this.data.length/this.itemsPerPage)}paginate(){let t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;return this.data.slice(t,e)}renderItems(){let t=this.paginate();this.container.innerHTML=t.map(t=>`<div class="pagination-item">${t}</div>`).join("")}renderPaginationControls(){if(!this.controlsContainer)return;this.controlsContainer.innerHTML="";let t=(t,e,i=!1,s=!1)=>{let n=document.createElement("button");return n.textContent=t,n.className="pagination-btn",s?(n.classList.add("active"),n.style.backgroundColor=this.activeBgColor,n.style.color=this.activeTextColor):(n.style.backgroundColor=this.bgColor,n.style.color=this.textColor,n.addEventListener("mouseenter",()=>{n.disabled||(n.style.backgroundColor=this.hoverBgColor,n.style.color=this.hoverTextColor)}),n.addEventListener("mouseleave",()=>{n.disabled||(n.style.backgroundColor="transparent",n.style.color="inherit")})),i&&(n.disabled=!0),n.addEventListener("click",()=>this.goToPage(e)),n},e=this.totalPages;if(this.controlsContainer.appendChild(t("\xab",1,1===this.currentPage)),this.controlsContainer.appendChild(t("‹",this.currentPage-1,1===this.currentPage)),e<=this.maxVisiblePages)for(let i=1;i<=e;i++)this.controlsContainer.appendChild(t(String(i),i,!1,i===this.currentPage));else{let s=this.getVisiblePages();(0===s.length||s[0]>1)&&(this.controlsContainer.appendChild(t("1",1,!1,1===this.currentPage)),s.length&&s[0]>2&&this.controlsContainer.appendChild(this.createEllipsis())),s.forEach(e=>{this.controlsContainer.appendChild(t(String(e),e,!1,e===this.currentPage))});let n=s.length?s[s.length-1]:1;n<e&&(n<e-1&&this.controlsContainer.appendChild(this.createEllipsis()),this.controlsContainer.appendChild(t(String(e),e,!1,this.currentPage===e)))}this.controlsContainer.appendChild(t("›",this.currentPage+1,this.currentPage===this.totalPages)),this.controlsContainer.appendChild(t("\xbb",this.totalPages,this.currentPage===this.totalPages))}createEllipsis(){let t=document.createElement("span");return t.textContent="...",t.className="pagination-ellipsis",t}getVisiblePages(){let t=this.totalPages;if(t<=this.maxVisiblePages)return[];let e=Math.max(1,this.maxVisiblePages-2),i=Math.max(2,this.currentPage-Math.floor(e/2)),s=Math.min(t-1,i+e-1),n=s-i+1;n<e&&(i=Math.max(2,s-e+1));let o=[];for(let a=i;a<=s;a++)o.push(a);return o}render(){this.renderItems(),this.renderPaginationControls(),this.onPageChange(this.currentPage)}goToPage(t){t<1||t>this.totalPages||(this.currentPage=t,this.render())}}
